{% extends 'core/base.html' %}
{% load static %}

{% block title %}–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã ‚Äî LeaseGrow{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'control_panel/css/control_panel.css' %}">
<link rel="stylesheet" href="{% static 'accounts/css/profile.css' %}?v=2">
<style>
.admin-stats-root { max-width: 900px; margin: 2rem auto 3rem; padding: 0 1.5rem; }
.admin-stats-header { margin-bottom: 1.5rem; }
.admin-stats-title { font-size: 1.5rem; font-weight: 600; margin: 0 0 0.25rem 0; }
.admin-stats-subtitle { color: var(--text-muted); font-size: 0.95rem; margin: 0; }
.stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 1rem; }
.stat-card { background: var(--white); border: 1px solid var(--border); border-radius: 12px; padding: 1rem; text-decoration: none; color: inherit; display: flex; flex-direction: column; align-items: center; transition: opacity 0.2s; }
.stat-card:hover { opacity: 0.9; }
.stat-card.stat-highlight { border-color: var(--primary); }
.stat-card.stat-highlight .stat-value { color: var(--primary); }
.stat-card.stat-warning { border-color: var(--warning, #f59e0b); background: rgba(234, 179, 8, 0.15); }
.stat-icon { font-size: 1.5rem; }
/* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞: –∂—ë–ª—Ç—ã–µ –±–ª–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ö–æ—Ä–æ—à–æ –≤–∏–¥–Ω—ã */
[data-theme="dark"] .stat-card.stat-warning {
    background: rgba(234, 179, 8, 0.2);
    border-color: rgba(234, 179, 8, 0.6);
}
[data-theme="dark"] .stat-card.stat-warning .stat-value {
    color: #facc15;
}
.stat-value { font-size: 1.5rem; font-weight: 700; }
.stat-label { font-size: 0.85rem; color: var(--text-muted); margin-top: 0.25rem; text-align: center; }
</style>
{% endblock %}

{% block content %}
<div class="console-root admin-stats-root">
    <div class="console-card" style="margin-bottom: 1.5rem;">
        <div class="admin-stats-header">
            <h1 class="admin-stats-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h1>
            <p class="admin-stats-subtitle">–°–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—É—â–Ω–æ—Å—Ç—è–º —Å–∏—Å—Ç–µ–º—ã. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ø–∏—Å–∫—É.</p>
        </div>
        <div style="margin-top: 1rem;">
            <a href="{% url 'accounts:profile' %}" class="console-back-btn">–ü—Ä–æ—Ñ–∏–ª—å</a>
        </div>
    </div>

    <div class="stats-grid">
        <a href="{% url 'control_panel:account_list' %}" class="stat-card">
            <span class="stat-icon">üë•</span>
            <span class="stat-value">{{ stats.accounts }}</span>
            <span class="stat-label">–ê–∫–∫–∞—É–Ω—Ç—ã</span>
        </a>
        <a href="{% url 'control_panel:company_list' %}" class="stat-card">
            <span class="stat-icon">üè¢</span>
            <span class="stat-value">{{ stats.companies }}</span>
            <span class="stat-label">–ö–æ–º–ø–∞–Ω–∏–∏</span>
        </a>
        <a href="{% url 'control_panel:equipment_list' %}" class="stat-card">
            <span class="stat-icon">üöú</span>
            <span class="stat-value">{{ stats.equipment }}</span>
            <span class="stat-label">–¢–µ—Ö–Ω–∏–∫–∞</span>
        </a>
        <a href="{% url 'control_panel:leasecontract_list' %}" class="stat-card">
            <span class="stat-icon">üìÑ</span>
            <span class="stat-value">{{ stats.contracts }}</span>
            <span class="stat-label">–î–æ–≥–æ–≤–æ—Ä—ã</span>
        </a>
        <a href="{% url 'control_panel:leasecontract_list' %}" class="stat-card stat-highlight">
            <span class="stat-icon">‚úì</span>
            <span class="stat-value">{{ stats.contracts_active }}</span>
            <span class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–æ–≥–æ–≤–æ—Ä—ã</span>
        </a>
        <a href="{% url 'control_panel:paymentschedule_list' %}" class="stat-card">
            <span class="stat-icon">üí∞</span>
            <span class="stat-value">{{ stats.payments }}</span>
            <span class="stat-label">–ü–ª–∞—Ç–µ–∂–∏</span>
        </a>
        <a href="{% url 'control_panel:paymentschedule_list' %}" class="stat-card stat-warning">
            <span class="stat-icon">‚è≥</span>
            <span class="stat-value">{{ stats.payments_pending }}</span>
            <span class="stat-label">–û–∂–∏–¥–∞—é—Ç –æ–ø–ª–∞—Ç—ã</span>
        </a>
        <a href="{% url 'control_panel:maintenance_list' %}" class="stat-card">
            <span class="stat-icon">üîß</span>
            <span class="stat-value">{{ stats.maintenance }}</span>
            <span class="stat-label">–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</span>
        </a>
        <a href="{% url 'control_panel:maintenancerequest_list' %}" class="stat-card">
            <span class="stat-icon">üìù</span>
            <span class="stat-value">{{ stats.maintenance_requests }}</span>
            <span class="stat-label">–ó–∞—è–≤–∫–∏ –Ω–∞ –¢–û</span>
        </a>
        <a href="{% url 'control_panel:maintenancerequest_list' %}" class="stat-card stat-warning">
            <span class="stat-icon">üÜï</span>
            <span class="stat-value">{{ stats.maintenance_requests_new }}</span>
            <span class="stat-label">–ù–æ–≤—ã–µ –∑–∞—è–≤–∫–∏</span>
        </a>
    </div>
</div>
{% endblock %}
