{% extends 'control_panel/base.html' %}

{% block control_content %}
<div class="control-page">
    <div class="control-page-header control-page-header-row">
        <div>
            <h1>{{ title }}</h1>
            <p class="control-subtitle">–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: {{ items.paginator.count }}</p>
        </div>
        <a href="{% url create_url %}" class="btn-create">+ –î–æ–±–∞–≤–∏—Ç—å</a>
    </div>
    <div class="control-table-wrap">
        <table class="control-table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>–û–±—ä–µ–∫—Ç</th>
                    <th class="control-th-actions">–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td class="control-td-id">{{ item.pk }}</td>
                    <td>{{ item }}</td>
                    <td class="control-td-actions">
                        <a href="{% url edit_url_name item.pk %}" class="btn-action btn-edit" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">‚úèÔ∏è</a>
                        <form method="post" action="{% url delete_url_name item.pk %}" class="btn-action-form" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å?');">
                            {% csrf_token %}
                            <button type="submit" class="btn-action btn-delete" title="–£–¥–∞–ª–∏—Ç—å">üóëÔ∏è</button>
                        </form>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="control-empty">–ó–∞–ø–∏—Å–µ–π –ø–æ–∫–∞ –Ω–µ—Ç. <a href="{% url create_url %}">–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% if items.has_other_pages %}
    <div class="control-pagination">
        {% if items.has_previous %}
        <a href="?page={{ items.previous_page_number }}" class="btn-pagination">‚Üê –ù–∞–∑–∞–¥</a>
        {% endif %}
        <span class="pagination-info">–°—Ç—Ä. {{ items.number }} –∏–∑ {{ items.paginator.num_pages }}</span>
        {% if items.has_next %}
        <a href="?page={{ items.next_page_number }}" class="btn-pagination">–í–ø–µ—Ä—ë–¥ ‚Üí</a>
        {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %}
